\documentclass[letterpaper,12pt,oneside,onecolumn]{article}
\usepackage[margin=1in, bottom=1in, top=1in]{geometry} %1 inch margins
\usepackage{amsmath, amssymb, amstext}
\usepackage{fancyhdr}
\usepackage{mathtools}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{theorem}
\usepackage{tikz}
\usepackage{tkz-berge}
\usepackage[braket, qm]{qcircuit}
\usepackage{hyperref}

%Macros
\newcommand{\A}{\mathbb{A}} \newcommand{\C}{\mathbb{C}}
\newcommand{\D}{\mathbb{D}} \newcommand{\F}{\mathbb{F}}
\newcommand{\N}{\mathbb{N}} \newcommand{\R}{\mathbb{R}}
\newcommand{\T}{\mathbb{T}} \newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
 
 
\newcommand{\cA}{\mathcal{A}} \newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}} \newcommand{\cD}{\mathcal{D}}
\newcommand{\cE}{\mathcal{E}} \newcommand{\cF}{\mathcal{F}}
\newcommand{\cG}{\mathcal{G}} \newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}} \newcommand{\cJ}{\mathcal{J}}
\newcommand{\cK}{\mathcal{K}} \newcommand{\cL}{\mathcal{L}}
\newcommand{\cM}{\mathcal{M}} \newcommand{\cN}{\mathcal{N}}
\newcommand{\cO}{\mathcal{O}} \newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}} \newcommand{\cR}{\mathcal{R}}
\newcommand{\cS}{\mathcal{S}} \newcommand{\cT}{\mathcal{T}}
\newcommand{\cU}{\mathcal{U}} \newcommand{\cV}{\mathcal{V}}
\newcommand{\cW}{\mathcal{W}} \newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}} \newcommand{\cZ}{\mathcal{Z}}

\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}


\newenvironment{proof}{{\bf Proof:  }}{\hfill\rule{2mm}{2mm}}
\newenvironment{proofof}[1]{{\bf Proof of #1:  }}{\hfill\rule{2mm}{2mm}}
\newenvironment{proofofnobox}[1]{{\bf#1:  }}{}\newenvironment{example}{{\bf Example:  }}{\hfill\rule{2mm}{2mm}}

%\renewcommand{\thesection}{\lecnum.\arabic{section}}
%\renewcommand{\theequation}{\thesection.\arabic{equation}}
%\renewcommand{\thefigure}{\thesection.\arabic{figure}}

\newtheorem{fact}{Fact}[section]
\newtheorem{lemma}[fact]{Lemma}
\newtheorem{theorem}[fact]{Theorem}
\newtheorem{definition}[fact]{Definition}
\newtheorem{corollary}[fact]{Corollary}
\newtheorem{proposition}[fact]{Proposition}
\newtheorem{claim}[fact]{Claim}
\newtheorem{exercise}[fact]{Exercise}
\newtheorem{note}[fact]{Note}
\newtheorem{conjecture}[fact]{Conjecture}

\newcommand{\size}[1]{\ensuremath{\left|#1\right|}}
\newcommand{\ceil}[1]{\ensuremath{\left\lceil#1\right\rceil}}
\newcommand{\floor}[1]{\ensuremath{\left\lfloor#1\right\rfloor}}

\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
\DeclarePairedDelimiter\norm{\lVert}{\rVert}%
%END MACROS
%Page style
\pagestyle{fancy}

\listfiles

\raggedbottom

\lhead{\today}
\rhead{W. Justin Toth - A2} %CHANGE n to ASSIGNMENT NUMBER ijk TO COURSE CODE
\renewcommand{\headrulewidth}{1pt} %heading underlined
%\renewcommand{\baselinestretch}{1.2} % 1.2 line spacing for legibility (optional)

\begin{document}
\section{}
\paragraph{}
By Voigt's Theorem there exists a planar graph $H$ and a list assignment $L$ with $|L(u)| \geq 4$ for all $u \in V(H)$, such that $H$ is not $L$-colorable. We construct a graph $G$ as follows. Take $5$ distinct copies of $H$: $H_1, \dots, H_5$ where each vertex $u_i \in V(H_i)$ corresponds to vertex $u \in V(H)$, and take an additional vertex $v$. Add edges $vu_i$ for all $u_i \in V(H_i)$ for all $i \in \{1,\dots, k\}$. i.e. $v$ is adjacent to every vertex in every copy of $H$.
\paragraph{}
To see that $G$ is an apex graph observe that $G-v$ consists of five disjoint copies of a planar graph, and hence $G-v$ is planar.
\paragraph{}
We now construct a $5$-list-assignment $L'$ for which $G$ does not have an $L'$-coloring, completing the proof that $G$ is not $5$-list-colorable. Let $c_1, \dots, c_5$ be $5$ disjoint colors from $L$. That is for all $u \in V(H)$, $$L(u) \cap \{c_1, \dots, c_5\} = \emptyset.$$
Let $L'(v) = \{c_1, \dots, c_5\}$. For each $i \in \{1, \dots, 5\}$ and for each $u_i \in V(H_i)$ let $L'(u_i) = L(u) \cup \{c_i\}$. Since $|L(u)| \geq 4$, $|L'(u_i)|\geq 5$. Thus we have a $5$-list-assignment $L'$ for $G$.
\paragraph{}
Suppose for a constradiction $G$ has an $L'$-coloring $\phi$. Say $\phi(v) = c_i$. Then $\phi(u_i) \neq c_i$ for all $u_i \in V(H_i)$. Hence $\phi(u_i) \in L(u_i)$ for all $u_i \in V(H_i)$. That is, $\phi$ restricted to $H_i$ is an $L$-coloring of $H-_i$. But this contradicts that $H_i$ is not $L$-colorable. Therefore $G$ does not have an $L'$-coloring and hence is not $5$-list-colorable. $\blacksquare$

\newpage
\section{}
\paragraph{}
We opt to prove the BONUS Lemma, i.e. Lemma $3$:
\textit{Let $G$ be a graph and for each vertex $v$ of $G$ let $r(v)$ be a non-negative integer. If $L$ is a list assignment of $G$ such that for every vertex $v$ of $G$
$$|L(v)| \geq \frac{d(v) + 1}{r(v)+1},$$
then $G$ has an $r(v)$-defective coloring}. This Lemma directly implies Lemma $2$ of this problem.
\paragraph{}
Consider a graph $G$, non-negative integers $r(v)$ for each $v \in V(G)$, and a list assignment $L$ of $G$ such that for each $v \in V(G)$
$$|L(v)| \geq \frac{d(v) + 1}{r(v)+1}.$$
Let $\phi$ be an improper $L$-coloring of $G$ minimizing the number of ``improper" edges $uv \in E(G)$ such that $\phi(u) = \phi(v)$. Suppose for a contradiction that $\phi$ is not an $r(v)$-defective coloring.
\paragraph{}
Then there exists a vertex $v$ such that the number of neighbours of $v$ receiving the same color as $v$ under $\phi$ is at least $r(v) + 1$. If there exists a color $c \in L(v)$ such that the number of neighbours of $v$ colored $c$ is at most $r(v)$ then we can construct a new coloring $\phi'$ by setting $\phi'(v) = c$ and $\phi'(u) = \phi(u)$ for all $u \neq v$. This coloring has $r(v)$ new improper edges, those between $v$ and its $c$-colored neighbours. But $\phi'$ switches $r(v) + 1$ edges which were improper under $\phi$, those between $v$ and its $\phi(v)$-colored neighbours, to proper edges. Hence $\phi'$ has fewer improper edges than $\phi$, a contradiction.
\paragraph{}
If such a color $c \in L(v)$ does not exist then  for each $c \in L(v)$ the number of neighbours of $v$ colored $c$ under $\phi$ is at least $r(v) + 1$. But then $v$ has at least
$$|L(v)|(r(v) + 1) \geq d(v) + 1$$
neighbours, a contradiction. Therefore $\phi$ is an $r(v)$-defective coloring $\blacksquare$

\newpage
\section{}
\paragraph{}
We prove a slightly more general result allowing $m(v)$ to take the value $0$. This will make induction easier when we wish to delete from a list of size $2$. For such a $v$, $L(v)= \emptyset$ and the desired $S(v) = \emptyset$. Everything else is exactly as stated in the problem.
\paragraph{}
Suppose not. Let $G$ be a counterexample satisfying:
\begin{enumerate}
	\item $\sum_{v \in V(G)} m(v)$ is minimized, and subject to that
	\item if possible $G(c)$ is connected for each $c \in L(G)$, and subject to that possibility
	\item $|L(G)|$ is minimized.
\end{enumerate}
\begin{claim}
	\begin{enumerate}
		\item For all $c \in L(G)$, $G(c)$ is connected.
		\item For every pair of distinct colors $c,c' \in L(G)$, $G(c) \neq G(c')$.
		\item For every pair of distinct colors $c, c' \in L(G)$, if $V(G(c)) \cap V(G(c')) = \emptyset$ then $G[V(G(c))\cup V(G(c'))]$ is disconnected.
	\end{enumerate}
\end{claim}
\begin{proof}
	\paragraph{} For (1.). While there exists a color $c \in L(G)$ such that $G(c)$ has at least two connected components $G_1$ and $G_2$ do the following:
		\subparagraph{}
		Let $c'$ be a new color not contained in $L(G)$. For each $v \in V(G_2)$ let $$L'(v) = (L(v)\cup \{c'\}) \backslash \{c\}.$$ For each $v \in V(G) \backslash V(G_2)$ let $L'(v) = L(v)$. Replace $L$ with $L'$.
	\paragraph{}
	We claim that every iteration of the above preserves the property of $(G,m,L)$ being a counterexample, but decreases the ``disconnectivity". i.e. the sum over $c \in L(G)$ such that $G(c)$ is disconnected, of the number of connected components in $G(c)$.
	\paragraph{}
	It is clear the disconnectivity decreases. We add a new color $c'$ for which $G(c')$ is connected, and $G(c)$ loses one connected component, and the number of connected components of $G(c'')$ is not affected for any other color $c'' \in L(G)$.
	\paragraph{}
	To verify that the new lists, say $L'$, also admit a counterexample with $G$ and $m$, suppose to contrary there are $S'(v) \subseteq L'(v)$ of size $m(v)$ for each $v \in V(G)$ and $S'(u) \cap S'(v) = \emptyset$ for all $uv \in E(G)$. For each $v \in V(G)$ let $$S(v) = \begin{cases} S'(v)\cup \{c\} \backslash \{c'\}, &\text{if } v \in V(G_2) \text{ and } c' \in S'(v) \\
	S'(v), &\text{otherwise}.\end{cases} $$
	Then $S(v) \subseteq L(v)$ and $|S(v)| = m(v)$ for each $v \in V(G)$. Further, for each $uv \in E(G)$, $S(u) \cap S(v) = \emptyset$. To see this, observe that if $S(u) \cap S(v) \neq \emptyset$ then by our choice of $S'$, $S(u) \cap S(v) = \{c\}$ and, since $G(c)$ was disconnected, $u, v \in V(G_2)$. But then, $S'(u) \cap S'(v) = \{c'\}$, a contradiction.
	\paragraph{}
	So the above algorithm will terminate when the ``disconnectivity" reaches $0$ and we will have found a connected counterexample with the same value for $\sum_{v} m(v)$ as $G$. This contradicts our choice of $G$ if there exists color $c$ such that $G(c)$ is disconnected. Therefore $G(c)$ is connected for all $c \in L(G)$.
	\paragraph{}For (2.). Suppose for a contradiction there exist distinct colors $c,c' \in L(G)$ such that $G(c) = G(c')$. Construct new lists $L'$ such that for each $v \in V(G)$
	$$ L'(v) = \begin{cases}
	L(v) \backslash \{c,c'\}, &\text{ if } v \in V(G(c)) \\
	L(v), &\text{otherwise.}
		\end{cases}$$
	Let $m'(v) = m(v) - 1$ if $v \in V(G(c))$ (this is well-defined since such $m(v) \geq 2$) and let $m'(v) = m(v)$ otherwise.  By the minimality of $G$, there exist for each $v \in V(G)$, a set $S'(v)\subseteq L'(v)$ of size $m'(v)$. These sets satisfy $S'(u) \cap S'(v) = \emptyset$ for all $uv \in E(G)$. Order the vertices of $G(c)$ as $v_1, \dots, v_k$ with respect to some orientation of $G$. Construct sets $S(v)$ as follows. If $v \in V(G) \backslash V(G(c))$ set $S(v) = S'(v)$. If $v_i \in V(G(c))$ and $i$ is even set $S(v) = S'(v) \cup \{c\}$. If $v_i \in V(G(c))$ and $i$ is odd set $S(v) = S'(v) \cup \{c'\}$. Since $c$ and $c'$ do not appear in sets outside $G(c)$, and we alternate $c$ and $c'$ along $G(c)$, we have $S(u) \cap S(v) = \emptyset$ for all $uv \in E(G)$. But this contradicts that $(G,m,L)$ is a counterexample. Hence for distinct colors $c$ and $c'$, $G(c) \neq G(c')$.
	
\end{proof}
	
\end{document}
